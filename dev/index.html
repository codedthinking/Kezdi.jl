<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Kezdi.jl</title><meta name="title" content="Home · Kezdi.jl"/><meta property="og:title" content="Home · Kezdi.jl"/><meta property="twitter:title" content="Home · Kezdi.jl"/><meta name="description" content="Documentation for Kezdi.jl."/><meta property="og:description" content="Documentation for Kezdi.jl."/><meta property="twitter:description" content="Documentation for Kezdi.jl."/><meta property="og:url" content="https://codedthinking.github.io/Kezdi.jl/"/><meta property="twitter:url" content="https://codedthinking.github.io/Kezdi.jl/"/><link rel="canonical" href="https://codedthinking.github.io/Kezdi.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img src="assets/logo.svg" alt="Kezdi.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href>Kezdi.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Getting-started"><span>Getting started</span></a></li><li><a class="tocitem" href="#Benefits-of-using-Kezdi.jl"><span>Benefits of using Kezdi.jl</span></a></li><li><a class="tocitem" href="#Commands"><span>Commands</span></a></li><li><a class="tocitem" href="#Differences-to-standard-Julia-and-DataFrames-syntax"><span>Differences to standard Julia and DataFrames syntax</span></a></li><li><a class="tocitem" href="#Differences-to-Stata-syntax"><span>Differences to Stata syntax</span></a></li><li><a class="tocitem" href="#Convenience-functions"><span>Convenience functions</span></a></li><li><a class="tocitem" href="#Acknowledgements"><span>Acknowledgements</span></a></li></ul></li><li><a class="tocitem" href="reference/">Reference</a></li><li><a class="tocitem" href="developing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/codedthinking/Kezdi.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/codedthinking/Kezdi.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Kezdi.jl-Documentation"><a class="docs-heading-anchor" href="#Kezdi.jl-Documentation">Kezdi.jl Documentation</a><a id="Kezdi.jl-Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Kezdi.jl-Documentation" title="Permalink"></a></h1><p>Kezdi.jl is a Julia package that provides a Stata-like interface for data manipulation and analysis. It is designed to be easy to use for Stata users who are transitioning to Julia.<sup class="footnote-reference"><a id="citeref-stata" href="#footnote-stata">[stata]</a></sup> </p><p>It imports and reexports <a href="https://csv.juliadata.org/stable/">CSV</a>, <a href="https://dataframes.juliadata.org/stable/">DataFrames</a>, <a href="https://fixedeffectmodelsjl.readthedocs.io/en/latest/">FixedEffectModels</a>, <a href="https://github.com/nalimilan/FreqTables.jl">FreqTables</a>, <a href="https://github.com/piever/ReadStatTables.jl">ReadStatTables</a>, <a href="https://docs.julialang.org/en/v1/stdlib/Statistics/">Statistics</a>, and <a href="https://juliastats.org/StatsBase.jl/stable/">StatsBase</a>. These packages are not covered in this documentation, but you can find more information by following the links.</p><h2 id="Getting-started"><a class="docs-heading-anchor" href="#Getting-started">Getting started</a><a id="Getting-started-1"></a><a class="docs-heading-anchor-permalink" href="#Getting-started" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Kezdi.jl is in beta</header><div class="admonition-body"><p><code>Kezdi.jl</code> is currently in beta. We have more than 400 unit tests and a large code coverage. <a href="https://codecov.io/gh/codedthinking/Kezdi.jl"><img src="https://codecov.io/gh/codedthinking/Kezdi.jl/branch/main/graph/badge.svg" alt="Coverage"/></a> The package, however, is not guaranteed to be bug-free. If you encounter any issues, please report them as a <a href="https://github.com/codedthinking/Kezdi.jl/issues/new">GitHub issue</a>.</p><p>If you would like to receive updates on the package, please star the repository on GitHub and sign up for <a href="https://relentless-producer-1210.ck.page/62d7ebb237">email notifications here</a>.</p></div></div><h3 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h3><p>To install the package, run the following command in Julia&#39;s REPL:</p><pre><code class="language-julia hljs">using Pkg; Pkg.add(&quot;Kezdi&quot;)</code></pre><p>Every Kezdi.jl command is a macro that begins with <code>@</code>. These commands operate on a global <code>DataFrame</code> that is set using the <code>setdf</code> function. Alternatively, commands can be executed within a <code>@with</code> block that sets the <code>DataFrame</code> for the duration of the block.</p><h3 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using Kezdi</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; using RDatasets</code><code class="nohighlight hljs ansi" style="display:block;"></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; df = dataset(&quot;datasets&quot;, &quot;mtcars&quot;)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cyl    Disp     HP     DRat     WT       QS</span> ⋯
     │<span class="sgr90"> String31           Float64  Int64  Float64  Int64  Float64  Float64  Fl</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0      6    160.0    110     3.9     2.62      ⋯
   2 │ Mazda RX4 Wag         21.0      6    160.0    110     3.9     2.875
   3 │ Datsun 710            22.8      4    108.0     93     3.85    2.32
   4 │ Hornet 4 Drive        21.4      6    258.0    110     3.08    3.215
   5 │ Hornet Sportabout     18.7      8    360.0    175     3.15    3.44      ⋯
   6 │ Valiant               18.1      6    225.0    105     2.76    3.46
   7 │ Duster 360            14.3      8    360.0    245     3.21    3.57
   8 │ Merc 240D             24.4      4    146.7     62     3.69    3.19
  ⋮  │         ⋮             ⋮       ⋮       ⋮       ⋮       ⋮        ⋮        ⋱
  26 │ Fiat X1-9             27.3      4     79.0     66     4.08    1.935     ⋯
  27 │ Porsche 914-2         26.0      4    120.3     91     4.43    2.14
  28 │ Lotus Europa          30.4      4     95.1    113     3.77    1.513
  29 │ Ford Pantera L        15.8      8    351.0    264     4.22    3.17
  30 │ Ferrari Dino          19.7      6    145.0    175     3.62    2.77      ⋯
  31 │ Maserati Bora         15.0      8    301.0    335     3.54    3.57
  32 │ Volvo 142E            21.4      4    121.0    109     4.11    2.78
<span class="sgr36">                                                   5 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; setdf(df)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cyl    Disp     HP     DRat     WT       QS</span> ⋯
     │<span class="sgr90"> String31           Float64  Int64  Float64  Int64  Float64  Float64  Fl</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0      6    160.0    110     3.9     2.62      ⋯
   2 │ Mazda RX4 Wag         21.0      6    160.0    110     3.9     2.875
   3 │ Datsun 710            22.8      4    108.0     93     3.85    2.32
   4 │ Hornet 4 Drive        21.4      6    258.0    110     3.08    3.215
   5 │ Hornet Sportabout     18.7      8    360.0    175     3.15    3.44      ⋯
   6 │ Valiant               18.1      6    225.0    105     2.76    3.46
   7 │ Duster 360            14.3      8    360.0    245     3.21    3.57
   8 │ Merc 240D             24.4      4    146.7     62     3.69    3.19
  ⋮  │         ⋮             ⋮       ⋮       ⋮       ⋮       ⋮        ⋮        ⋱
  26 │ Fiat X1-9             27.3      4     79.0     66     4.08    1.935     ⋯
  27 │ Porsche 914-2         26.0      4    120.3     91     4.43    2.14
  28 │ Lotus Europa          30.4      4     95.1    113     3.77    1.513
  29 │ Ford Pantera L        15.8      8    351.0    264     4.22    3.17
  30 │ Ferrari Dino          19.7      6    145.0    175     3.62    2.77      ⋯
  31 │ Maserati Bora         15.0      8    301.0    335     3.54    3.57
  32 │ Volvo 142E            21.4      4    121.0    109     4.11    2.78
<span class="sgr36">                                                   5 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @rename HP Horsepower</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename HP Horsepower

<span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cyl    Disp     Horsepower  DRat     WT    </span> ⋯
     │<span class="sgr90"> String31           Float64  Int64  Float64  Int64       Float64  Float6</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0      6    160.0         110     3.9     2.62 ⋯
   2 │ Mazda RX4 Wag         21.0      6    160.0         110     3.9     2.87
   3 │ Datsun 710            22.8      4    108.0          93     3.85    2.32
   4 │ Hornet 4 Drive        21.4      6    258.0         110     3.08    3.21
   5 │ Hornet Sportabout     18.7      8    360.0         175     3.15    3.44 ⋯
   6 │ Valiant               18.1      6    225.0         105     2.76    3.46
   7 │ Duster 360            14.3      8    360.0         245     3.21    3.57
   8 │ Merc 240D             24.4      4    146.7          62     3.69    3.19
  ⋮  │         ⋮             ⋮       ⋮       ⋮         ⋮          ⋮        ⋮   ⋱
  26 │ Fiat X1-9             27.3      4     79.0          66     4.08    1.93 ⋯
  27 │ Porsche 914-2         26.0      4    120.3          91     4.43    2.14
  28 │ Lotus Europa          30.4      4     95.1         113     3.77    1.51
  29 │ Ford Pantera L        15.8      8    351.0         264     4.22    3.17
  30 │ Ferrari Dino          19.7      6    145.0         175     3.62    2.77 ⋯
  31 │ Maserati Bora         15.0      8    301.0         335     3.54    3.57
  32 │ Volvo 142E            21.4      4    121.0         109     4.11    2.78
<span class="sgr36">                                                   6 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @rename Disp Displacement</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename Disp Displacement

<span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cyl    Displacement  Horsepower  DRat     W</span> ⋯
     │<span class="sgr90"> String31           Float64  Int64  Float64       Int64       Float64  F</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0      6         160.0         110     3.9     ⋯
   2 │ Mazda RX4 Wag         21.0      6         160.0         110     3.9
   3 │ Datsun 710            22.8      4         108.0          93     3.85
   4 │ Hornet 4 Drive        21.4      6         258.0         110     3.08
   5 │ Hornet Sportabout     18.7      8         360.0         175     3.15    ⋯
   6 │ Valiant               18.1      6         225.0         105     2.76
   7 │ Duster 360            14.3      8         360.0         245     3.21
   8 │ Merc 240D             24.4      4         146.7          62     3.69
  ⋮  │         ⋮             ⋮       ⋮         ⋮            ⋮          ⋮       ⋱
  26 │ Fiat X1-9             27.3      4          79.0          66     4.08    ⋯
  27 │ Porsche 914-2         26.0      4         120.3          91     4.43
  28 │ Lotus Europa          30.4      4          95.1         113     3.77
  29 │ Ford Pantera L        15.8      8         351.0         264     4.22
  30 │ Ferrari Dino          19.7      6         145.0         175     3.62    ⋯
  31 │ Maserati Bora         15.0      8         301.0         335     3.54
  32 │ Volvo 142E            21.4      4         121.0         109     4.11
<span class="sgr36">                                                   6 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @rename WT Weight</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename WT Weight

<span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cyl    Displacement  Horsepower  DRat     W</span> ⋯
     │<span class="sgr90"> String31           Float64  Int64  Float64       Int64       Float64  F</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0      6         160.0         110     3.9     ⋯
   2 │ Mazda RX4 Wag         21.0      6         160.0         110     3.9
   3 │ Datsun 710            22.8      4         108.0          93     3.85
   4 │ Hornet 4 Drive        21.4      6         258.0         110     3.08
   5 │ Hornet Sportabout     18.7      8         360.0         175     3.15    ⋯
   6 │ Valiant               18.1      6         225.0         105     2.76
   7 │ Duster 360            14.3      8         360.0         245     3.21
   8 │ Merc 240D             24.4      4         146.7          62     3.69
  ⋮  │         ⋮             ⋮       ⋮         ⋮            ⋮          ⋮       ⋱
  26 │ Fiat X1-9             27.3      4          79.0          66     4.08    ⋯
  27 │ Porsche 914-2         26.0      4         120.3          91     4.43
  28 │ Lotus Europa          30.4      4          95.1         113     3.77
  29 │ Ford Pantera L        15.8      8         351.0         264     4.22
  30 │ Ferrari Dino          19.7      6         145.0         175     3.62    ⋯
  31 │ Maserati Bora         15.0      8         301.0         335     3.54
  32 │ Volvo 142E            21.4      4         121.0         109     4.11
<span class="sgr36">                                                   6 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @rename Cyl Cylinders</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename Cyl Cylinders

<span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cylinders  Displacement  Horsepower  DRat  </span> ⋯
     │<span class="sgr90"> String31           Float64  Int64      Float64       Int64       Float6</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0          6         160.0         110     3.9 ⋯
   2 │ Mazda RX4 Wag         21.0          6         160.0         110     3.9
   3 │ Datsun 710            22.8          4         108.0          93     3.8
   4 │ Hornet 4 Drive        21.4          6         258.0         110     3.0
   5 │ Hornet Sportabout     18.7          8         360.0         175     3.1 ⋯
   6 │ Valiant               18.1          6         225.0         105     2.7
   7 │ Duster 360            14.3          8         360.0         245     3.2
   8 │ Merc 240D             24.4          4         146.7          62     3.6
  ⋮  │         ⋮             ⋮         ⋮           ⋮            ⋮          ⋮   ⋱
  26 │ Fiat X1-9             27.3          4          79.0          66     4.0 ⋯
  27 │ Porsche 914-2         26.0          4         120.3          91     4.4
  28 │ Lotus Europa          30.4          4          95.1         113     3.7
  29 │ Ford Pantera L        15.8          8         351.0         264     4.2
  30 │ Ferrari Dino          19.7          6         145.0         175     3.6 ⋯
  31 │ Maserati Bora         15.0          8         301.0         335     3.5
  32 │ Volvo 142E            21.4          4         121.0         109     4.1
<span class="sgr36">                                                   7 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @tabulate Gear</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@tabulate Gear

3-element Named Vector{Int64}
Gear  │
──────┼───
3     │ 15
4     │ 12
5     │  5</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @keep @if Gear == 4</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@keep  @if Gear == 4

<span class="sgr1">12×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model           MPG      Cylinders  Displacement  Horsepower  DRat     </span> ⋯
     │<span class="sgr90"> String31        Float64  Int64      Float64       Int64       Float64  </span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4          21.0          6         160.0         110     3.9    ⋯
   2 │ Mazda RX4 Wag      21.0          6         160.0         110     3.9
   3 │ Datsun 710         22.8          4         108.0          93     3.85
   4 │ Merc 240D          24.4          4         146.7          62     3.69
   5 │ Merc 230           22.8          4         140.8          95     3.92   ⋯
   6 │ Merc 280           19.2          6         167.6         123     3.92
   7 │ Merc 280C          17.8          6         167.6         123     3.92
   8 │ Fiat 128           32.4          4          78.7          66     4.08
   9 │ Honda Civic        30.4          4          75.7          52     4.93   ⋯
  10 │ Toyota Corolla     33.9          4          71.1          65     4.22
  11 │ Fiat X1-9          27.3          4          79.0          66     4.08
  12 │ Volvo 142E         21.4          4         121.0         109     4.11
<span class="sgr36">                                                               6 columns omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @keep MPG Horsepower Weight Displacement Cylinders</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@keep MPG Horsepower Weight Displacement Cylinders

<span class="sgr1">12×5 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> MPG      Horsepower  Weight   Displacement  Cylinders </span>
     │<span class="sgr90"> Float64  Int64       Float64  Float64       Int64     </span>
─────┼───────────────────────────────────────────────────────
   1 │    21.0         110    2.62          160.0          6
   2 │    21.0         110    2.875         160.0          6
   3 │    22.8          93    2.32          108.0          4
   4 │    24.4          62    3.19          146.7          4
   5 │    22.8          95    3.15          140.8          4
   6 │    19.2         123    3.44          167.6          6
   7 │    17.8         123    3.44          167.6          6
   8 │    32.4          66    2.2            78.7          4
   9 │    30.4          52    1.615          75.7          4
  10 │    33.9          65    1.835          71.1          4
  11 │    27.3          66    1.935          79.0          4
  12 │    21.4         109    2.78          121.0          4</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @summarize MPG</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@summarize MPG

Summarize MPG:
  N = 12
  sum_w = 12.0
  mean = 24.53333333333333
  Var = 27.844242424242417
  sd = 5.276764389684498
  skewness = 0.6109081273366428
  kurtosis = 2.054454265238661
  sum = 294.4
  min = 17.8
  max = 33.9
  p1 = 17.8
  p5 = 17.94
  p10 = 18.78
  p25 = 21.0
  p50 = 22.8
  p75 = 28.85
  p90 = 32.849999999999994
  p95 = 33.75
  p99 = 33.9</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @regress log(MPG) log(Horsepower) log(Weight) log(Displacement) fe(Cylinders), robust</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@regress log(MPG) log(Horsepower) log(Weight) log(Displacement) fe(Cylinders), robust

                                  FixedEffectModel
====================================================================================
Number of obs:                         12  Converged:                           true
dof (model):                            3  dof (residuals):                        7
R²:                                 0.919  R² adjusted:                        0.872
F-statistic:                      16.5436  P-value:                            0.001
R² within:                          0.837  Iterations:                             1
====================================================================================
                    Estimate  Std. Error     t-stat  Pr(&gt;|t|)  Lower 95%   Upper 95%
────────────────────────────────────────────────────────────────────────────────────
log(Horsepower)    -0.336986   0.0557811  -6.04122     0.0005  -0.468887  -0.205084
log(Weight)         0.17324    0.261239    0.663148    0.5285  -0.444491   0.790971
log(Displacement)  -0.491497   0.239809   -2.04954     0.0796  -1.05855    0.0755604
====================================================================================</code></pre><p>Alternatively, you can use the <code>@with</code> block to avoid writing to a global <code>DataFrame</code>:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; renamed_df = @with df begin
           @rename HP Horsepower
           @rename Disp Displacement
           @rename WT Weight
           @rename Cyl Cylinders
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename HP Horsepower

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename Disp Displacement

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename WT Weight

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@rename Cyl Cylinders

<span class="sgr1">32×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> Model              MPG      Cylinders  Displacement  Horsepower  DRat  </span> ⋯
     │<span class="sgr90"> String31           Float64  Int64      Float64       Int64       Float6</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Mazda RX4             21.0          6         160.0         110     3.9 ⋯
   2 │ Mazda RX4 Wag         21.0          6         160.0         110     3.9
   3 │ Datsun 710            22.8          4         108.0          93     3.8
   4 │ Hornet 4 Drive        21.4          6         258.0         110     3.0
   5 │ Hornet Sportabout     18.7          8         360.0         175     3.1 ⋯
   6 │ Valiant               18.1          6         225.0         105     2.7
   7 │ Duster 360            14.3          8         360.0         245     3.2
   8 │ Merc 240D             24.4          4         146.7          62     3.6
  ⋮  │         ⋮             ⋮         ⋮           ⋮            ⋮          ⋮   ⋱
  26 │ Fiat X1-9             27.3          4          79.0          66     4.0 ⋯
  27 │ Porsche 914-2         26.0          4         120.3          91     4.4
  28 │ Lotus Europa          30.4          4          95.1         113     3.7
  29 │ Ford Pantera L        15.8          8         351.0         264     4.2
  30 │ Ferrari Dino          19.7          6         145.0         175     3.6 ⋯
  31 │ Maserati Bora         15.0          8         301.0         335     3.5
  32 │ Volvo 142E            21.4          4         121.0         109     4.1
<span class="sgr36">                                                   7 columns and 17 rows omitted</span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; @with renamed_df begin
           @tabulate Gear
           @keep @if Gear == 4
           @keep MPG Horsepower Weight Displacement Cylinders
           @summarize MPG
           @regress log(MPG) log(Horsepower) log(Weight) log(Displacement) fe(Cylinders), robust
       end</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@tabulate Gear

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@keep  @if Gear == 4

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@keep MPG Horsepower Weight Displacement Cylinders

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@summarize MPG

<span class="sgr32"><span class="sgr1">Kezdi.jl&gt; </span></span>@regress log(MPG) log(Horsepower) log(Weight) log(Displacement) fe(Cylinders), robust

                                  FixedEffectModel
====================================================================================
Number of obs:                         12  Converged:                           true
dof (model):                            3  dof (residuals):                        7
R²:                                 0.919  R² adjusted:                        0.872
F-statistic:                      16.5436  P-value:                            0.001
R² within:                          0.837  Iterations:                             1
====================================================================================
                    Estimate  Std. Error     t-stat  Pr(&gt;|t|)  Lower 95%   Upper 95%
────────────────────────────────────────────────────────────────────────────────────
log(Horsepower)    -0.336986   0.0557811  -6.04122     0.0005  -0.468887  -0.205084
log(Weight)         0.17324    0.261239    0.663148    0.5285  -0.444491   0.790971
log(Displacement)  -0.491497   0.239809   -2.04954     0.0796  -1.05855    0.0755604
====================================================================================</code></pre><h2 id="Benefits-of-using-Kezdi.jl"><a class="docs-heading-anchor" href="#Benefits-of-using-Kezdi.jl">Benefits of using Kezdi.jl</a><a id="Benefits-of-using-Kezdi.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Benefits-of-using-Kezdi.jl" title="Permalink"></a></h2><h3 id="Free-and-open-source"><a class="docs-heading-anchor" href="#Free-and-open-source">Free and open-source</a><a id="Free-and-open-source-1"></a><a class="docs-heading-anchor-permalink" href="#Free-and-open-source" title="Permalink"></a></h3><h3 id="Speed"><a class="docs-heading-anchor" href="#Speed">Speed</a><a id="Speed-1"></a><a class="docs-heading-anchor-permalink" href="#Speed" title="Permalink"></a></h3><table><tr><th style="text-align: right">Command</th><th style="text-align: right">Stata</th><th style="text-align: right">Julia 2nd run</th><th style="text-align: right">Speedup</th></tr><tr><td style="text-align: right"><code>@generate</code></td><td style="text-align: right">230ms</td><td style="text-align: right">46ms</td><td style="text-align: right">5x</td></tr><tr><td style="text-align: right"><code>@replace</code></td><td style="text-align: right">232ms</td><td style="text-align: right">32ms</td><td style="text-align: right">7x</td></tr><tr><td style="text-align: right"><code>@egen</code></td><td style="text-align: right">5.00s</td><td style="text-align: right">0.37s</td><td style="text-align: right">13x</td></tr><tr><td style="text-align: right"><code>@collapse</code></td><td style="text-align: right">0.94s</td><td style="text-align: right">0.28s</td><td style="text-align: right">3x</td></tr><tr><td style="text-align: right"><code>@tabulate</code></td><td style="text-align: right">2.19s</td><td style="text-align: right">0.09s</td><td style="text-align: right">24x</td></tr><tr><td style="text-align: right"><code>@summarize</code></td><td style="text-align: right">10.56s</td><td style="text-align: right">0.35s</td><td style="text-align: right">30x</td></tr><tr><td style="text-align: right"><code>@regress</code></td><td style="text-align: right">0.85s</td><td style="text-align: right">0.14s</td><td style="text-align: right">6x</td></tr></table><p>See the benchmarking code for <a href="https://github.com/codedthinking/Kezdi.jl/blob/main/docs/examples/benchmark.do">Stata</a> and <a href="https://github.com/codedthinking/Kezdi.jl/blob/main/docs/examples/benchmark.jl">Kezdi.jl</a>.</p><h3 id="Use-any-Julia-function"><a class="docs-heading-anchor" href="#Use-any-Julia-function">Use any Julia function</a><a id="Use-any-Julia-function-1"></a><a class="docs-heading-anchor-permalink" href="#Use-any-Julia-function" title="Permalink"></a></h3><pre><code class="language-julia hljs">@generate logHP = log(Horsepower)</code></pre><h3 id="Easily-extendable-with-user-defined-functions"><a class="docs-heading-anchor" href="#Easily-extendable-with-user-defined-functions">Easily extendable with user-defined functions</a><a id="Easily-extendable-with-user-defined-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Easily-extendable-with-user-defined-functions" title="Permalink"></a></h3><p>The function can operate on individual elements,</p><pre><code class="language-julia hljs">get_make(text) = split(text, &quot; &quot;)[1]
@generate Make = get_make(Model)</code></pre><p>or on the entire column:</p><pre><code class="language-julia hljs">function geometric_mean(x::Vector)
    n = length(x)
    return exp(sum(log.(x)) / n)
end
@collapse geom_NPG = geometric_mean(MPG), by(Cylinders)</code></pre><h2 id="Commands"><a class="docs-heading-anchor" href="#Commands">Commands</a><a id="Commands-1"></a><a class="docs-heading-anchor-permalink" href="#Commands" title="Permalink"></a></h2><h3 id="Setting-and-inspecting-the-global-DataFrame"><a class="docs-heading-anchor" href="#Setting-and-inspecting-the-global-DataFrame">Setting and inspecting the global DataFrame</a><a id="Setting-and-inspecting-the-global-DataFrame-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-and-inspecting-the-global-DataFrame" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.setdf" href="#Kezdi.setdf"><code>Kezdi.setdf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setdf(df::Union{AbstractDataFrame, Nothing})</code></pre><p>Set the global data frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@use" href="#Kezdi.@use"><code>Kezdi.@use</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@use &quot;filename.dta&quot;, [clear]</code></pre><p>Read the data from the file <code>filename.dta</code> and set it as the global data frame. If there is already a global data frame, <code>@use</code> will throw an error unless the <code>clear</code> option is provided</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L7-L11">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@save" href="#Kezdi.@save"><code>Kezdi.@save</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@save &quot;filename.dta&quot;, [replace]</code></pre><p>Save the global data frame to the file <code>filename.dta</code>. If the file already exists, the <code>replace</code> option must be provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L24-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.getdf" href="#Kezdi.getdf"><code>Kezdi.getdf</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getdf() -&gt; AbstractDataFrame</code></pre><p>Return the global data frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L40-L44">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@names" href="#Kezdi.@names"><code>Kezdi.@names</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@names</code></pre><p>Display the names of the variables in the data frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L39-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@list" href="#Kezdi.@list"><code>Kezdi.@list</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@list [y1 y2...] [@if condition]</code></pre><p>Display the entire data frame or the rows for which the condition is true. If variable names are provided, only the variables in the list are displayed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L48-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@head" href="#Kezdi.@head"><code>Kezdi.@head</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@head [n]</code></pre><p>Display the first <code>n</code> rows of the data frame. By default, <code>n</code> is 5.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@tail" href="#Kezdi.@tail"><code>Kezdi.@tail</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@tail [n]</code></pre><p>Display the last <code>n</code> rows of the data frame. By default, <code>n</code> is 5.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L67-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@clear" href="#Kezdi.@clear"><code>Kezdi.@clear</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@clear</code></pre><p>Clears the global dataframe.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L76-L80">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@describe" href="#Kezdi.@describe"><code>Kezdi.@describe</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@describe [y1] [y2]...</code></pre><p>Show the names and data types of columns of the data frame. If no variable names given, all are shown. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L85-L89">source</a></section></article><h3 id="Filtering-columns-and-rows"><a class="docs-heading-anchor" href="#Filtering-columns-and-rows">Filtering columns and rows</a><a id="Filtering-columns-and-rows-1"></a><a class="docs-heading-anchor-permalink" href="#Filtering-columns-and-rows" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@keep" href="#Kezdi.@keep"><code>Kezdi.@keep</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@keep y1 y2 ... [@if condition]</code></pre><p>Keep only the variables <code>y1</code>, <code>y2</code>, etc. in <code>df</code>. If <code>condition</code> is provided, only the rows for which the condition is true are kept.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@drop" href="#Kezdi.@drop"><code>Kezdi.@drop</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@drop y1 y2 ...</code></pre><p>or     @drop [@if condition]    </p><p>Drop the variables <code>y1</code>, <code>y2</code>, etc. from <code>df</code>. If <code>condition</code> is provided, the rows for which the condition is true are dropped.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L104-L110">source</a></section></article><h3 id="Modifying-the-data"><a class="docs-heading-anchor" href="#Modifying-the-data">Modifying the data</a><a id="Modifying-the-data-1"></a><a class="docs-heading-anchor-permalink" href="#Modifying-the-data" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@rename" href="#Kezdi.@rename"><code>Kezdi.@rename</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@rename oldname newname</code></pre><p>Rename the variable <code>oldname</code> to <code>newname</code> in the data frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L116-L120">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@generate" href="#Kezdi.@generate"><code>Kezdi.@generate</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@generate y = expr [@if condition]</code></pre><p>Create a new variable <code>y</code> in <code>df</code> by evaluating <code>expr</code>. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true. When the condition is false, the variable will be missing. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L125-L129">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@replace" href="#Kezdi.@replace"><code>Kezdi.@replace</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@replace y = expr [@if condition]</code></pre><p>Replace the values of <code>y</code> in <code>df</code> with the result of evaluating <code>expr</code>. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true. When the condition is false, the variable will be left unchanged.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@mvencode" href="#Kezdi.@mvencode"><code>Kezdi.@mvencode</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@mvencode y1 y2 [_all] ... [if condition], [mv(value)]</code></pre><p>Encode missing values in the variables <code>y1</code>, <code>y2</code>, etc. in the data frame. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true. If <code>mv</code> is provided, the missing values are encoded with the value <code>value</code>. By default value is <code>missing</code> making no changes on the dataframe. Using <code>_all</code> encodes all variables of the DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L143-L147">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@egen" href="#Kezdi.@egen"><code>Kezdi.@egen</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@egen y1 = expr1 y2 = expr2 ... [@if condition], [by(group1, group2, ...)]</code></pre><p>Generate new variables in <code>df</code> by evaluating expressions <code>expr1</code>, <code>expr2</code>, etc. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true. When the condition is false, the variables will be missing. If <code>by</code> is provided, the operation is executed by group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L152-L156">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@collapse" href="#Kezdi.@collapse"><code>Kezdi.@collapse</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@collapse y1 = expr1 y2 = expr2 ... [@if condition], [by(group1, group2, ...)]</code></pre><p>Collapse <code>df</code> by evaluating expressions <code>expr1</code>, <code>expr2</code>, etc. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true. If <code>by</code> is provided, the operation is executed by group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@sort" href="#Kezdi.@sort"><code>Kezdi.@sort</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@sort y1 y2 ... , [desc]</code></pre><p>Sort the data frame by the variables <code>y1</code>, <code>y2</code>, etc. By default, the variables are sorted in ascending order. If <code>desc</code> is provided, the variables are sorted in descending order</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L170-L174">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@order" href="#Kezdi.@order"><code>Kezdi.@order</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@order y1 y2 ... , [desc] [last] [after=var] [before=var] [alphabetical]</code></pre><p>Reorder the variables <code>y1</code>, <code>y2</code>, etc. in the data frame. By default, the variables are ordered in the order they are listed. If <code>desc</code> is provided, the variables are ordered in descending order. If <code>last</code> is provided, the variables are moved to the end of the data frame. If <code>after</code> is provided, the variables are moved after the variable <code>var</code>. If <code>before</code> is provided, the variables are moved before the variable <code>var</code>. If <code>alphabetical</code> is provided, the variables are ordered alphabetically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L179-L183">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@reshape" href="#Kezdi.@reshape"><code>Kezdi.@reshape</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@reshape long y1 y2 ... i(varlist) j(var) 
@reshape wide y1 y2 ... i(varlist) j(var)</code></pre><p>Reshape the data frame from wide to long or from long to wide format. The variables <code>y1</code>, <code>y2</code>, etc. are the variables to be reshaped. The <code>i(var)</code> and <code>j(var)</code> are the variables that define the row and column indices in the reshaped data frame.</p><p>The option <code>i()</code> may include multiple variables, like <code>i(var1, var2, var3)</code>. The option <code>j()</code> must include only one variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L188-L195">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@append" href="#Kezdi.@append"><code>Kezdi.@append</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@append &quot;filename.dta&quot; / @append df</code></pre><p>Append the data from the file <code>filename.dta</code> or <code>df</code> DataFrame to the global data frame. Columns that are not common filled with missing values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L208-L212">source</a></section></article><h3 id="Summarizing-and-analyzing-data"><a class="docs-heading-anchor" href="#Summarizing-and-analyzing-data">Summarizing and analyzing data</a><a id="Summarizing-and-analyzing-data-1"></a><a class="docs-heading-anchor-permalink" href="#Summarizing-and-analyzing-data" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@count" href="#Kezdi.@count"><code>Kezdi.@count</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@count [@if condition]</code></pre><p>Count the number of rows for which the condition is true. If <code>condition</code> is not provided, the total number of rows is counted.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L222-L226">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@tabulate" href="#Kezdi.@tabulate"><code>Kezdi.@tabulate</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@tabulate y1 y2 ... [@if condition]</code></pre><p>Create a frequency table for the variables <code>y1</code>, <code>y2</code>, etc. in <code>df</code>. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L231-L235">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@summarize" href="#Kezdi.@summarize"><code>Kezdi.@summarize</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@summarize y [@if condition]</code></pre><p>Summarize the variable <code>y</code> in <code>df</code>. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L240-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.@regress" href="#Kezdi.@regress"><code>Kezdi.@regress</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@regress y x1 x2 ... [@if condition], [robust] [cluster(var1, var2, ...)]</code></pre><p>Estimate a regression model in <code>df</code> with dependent variable <code>y</code> and independent variables <code>x1</code>, <code>x2</code>, etc. If <code>condition</code> is provided, the operation is executed only on rows for which the condition is true. If <code>robust</code> is provided, robust standard errors are calculated. If <code>cluster</code> is provided, clustered standard errors are calculated.</p><p>The regression is limited to rows for which all variables are values. Missing values, infinity, and NaN are automatically excluded.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/macros.jl#L249-L255">source</a></section></article><h3 id="Use-on-another-DataFrame"><a class="docs-heading-anchor" href="#Use-on-another-DataFrame">Use on another DataFrame</a><a id="Use-on-another-DataFrame-1"></a><a class="docs-heading-anchor-permalink" href="#Use-on-another-DataFrame" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.With.@with" href="#Kezdi.With.@with"><code>Kezdi.With.@with</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@with df begin
    # do something with df
end</code></pre><p>The <code>@with</code> macro is a convenience macro that allows you to set the current data frame and perform operations on it in a single block. The first argument is the data frame to set as the current data frame, and the second argument is a block of code to execute. The data frame is set as the current data frame for the duration of the block, and then restored to its previous value after the block is executed.</p><p>The macro returns the value of the last expression in the block.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/With.jl#L5-L13">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.With.@with!" href="#Kezdi.With.@with!"><code>Kezdi.With.@with!</code></a> — <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@with! df begin
    # do something with df
end</code></pre><p>The <code>@with!</code> macro is a convenience macro that allows you to set the current data frame and perform operations on it in a single block. The first argument is the data frame to set as the current data frame, and the second argument is a block of code to execute. The data frame is set as the current data frame for the duration of the block, and then restored to its previous value after the block is executed.</p><p>The macro does not have a return value, it overwrites the data frame directly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/With.jl#L19-L27">source</a></section></article><h2 id="Differences-to-standard-Julia-and-DataFrames-syntax"><a class="docs-heading-anchor" href="#Differences-to-standard-Julia-and-DataFrames-syntax">Differences to standard Julia and DataFrames syntax</a><a id="Differences-to-standard-Julia-and-DataFrames-syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Differences-to-standard-Julia-and-DataFrames-syntax" title="Permalink"></a></h2><p>To maximize convenience for Stata users, Kezdi.jl has a number of differences to standard Julia and DataFrames syntax.</p><h3 id="Everything-is-a-macro"><a class="docs-heading-anchor" href="#Everything-is-a-macro">Everything is a macro</a><a id="Everything-is-a-macro-1"></a><a class="docs-heading-anchor-permalink" href="#Everything-is-a-macro" title="Permalink"></a></h3><p>While there are a few convenience functions, most Kezdi.jl commands are macros that begin with <code>@</code>.</p><pre><code class="language-julia hljs">@tabulate Gear</code></pre><h3 id="Comma-is-used-for-options"><a class="docs-heading-anchor" href="#Comma-is-used-for-options">Comma is used for options</a><a id="Comma-is-used-for-options-1"></a><a class="docs-heading-anchor-permalink" href="#Comma-is-used-for-options" title="Permalink"></a></h3><p>Due to this non-standard syntax, Kezdi.jl uses the comma to separate options.</p><pre><code class="language-julia hljs">@regress log(MPG) log(Horsepower), robust</code></pre><p>Here <code>log(MPG)</code> and <code>log(Horsepower)</code> are the dependent and independent variables, respectively, and <code>robust</code> is an option. Options may also have arguments, like</p><pre><code class="language-julia hljs">@regress log(MPG) log(Horsepower), cluster(Cylinders)</code></pre><h3 id="Automatic-variable-name-substitution"><a class="docs-heading-anchor" href="#Automatic-variable-name-substitution">Automatic variable name substitution</a><a id="Automatic-variable-name-substitution-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-variable-name-substitution" title="Permalink"></a></h3><p>Column names of the data frame can be used directly in the commands without the need to prefix them with the data frame name or using a Symbol.</p><pre><code class="language-julia hljs">@generate logHP = log(Horsepower)</code></pre><div class="admonition is-warning"><header class="admonition-header">No symbols or special strings</header><div class="admonition-body"><p>Other data manipulation packages in Julia require column names to be passed as symbols or strings. Kezdi.jl does not require this, and it will not work if you try to use symbols or strings.</p></div></div><div class="admonition is-danger"><header class="admonition-header">Reserved words cannot be used as variable names</header><div class="admonition-body"><p>Julia reserved words, like <code>begin</code>, <code>export</code>, <code>function</code> and standard types like <code>String</code>, <code>Int</code>, <code>Float64</code>, etc., cannot be used as variable names in Kezdi.jl. If you have a column with a reserved word, rename it <em>before</em> passing it to Kezdi.jl.</p></div></div><p>If you want to avoid variable name substitution, you currently have two workarounds. One is to refer to the fully qualified name of the variable, including the module. The other is to define a constant function.</p><pre><code class="language-julia hljs">df = DataFrame(x = 1:2, y = 3:4)
x = 5
y() = 6
@with df begin
    @generate x1 = x
    @generate x2 = Main.x
    @generate y1 = y
    @generate y2 = y()
end</code></pre><p>results in</p><pre><code class="language-julia hljs">2×6 DataFrame
 Row │ x      y      x1     x2     y1     y2
     │ Int64  Int64  Int64  Int64  Int64  Int64
─────┼──────────────────────────────────────────
   1 │     1      3      1      5      3      6
   2 │     2      4      2      5      4      6</code></pre><h3 id="Automatic-vectorization"><a class="docs-heading-anchor" href="#Automatic-vectorization">Automatic vectorization</a><a id="Automatic-vectorization-1"></a><a class="docs-heading-anchor-permalink" href="#Automatic-vectorization" title="Permalink"></a></h3><p>All functions are automatically vectorized, so there is no need to use the <code>.</code> operator to broadcast functions over elements of a column. </p><pre><code class="language-julia hljs">@generate logHP = log(Horsepower)</code></pre><p>If you want to turn off automatic vectorization, use the <code>~</code> symbol:</p><pre><code class="language-julia hljs">@generate logHP = ~log(Horsepower)</code></pre><p>The exception is when the function operates on Vectors, in which case Kezdi.jl understands you want to apply the function to the entire column.</p><pre><code class="language-julia hljs">@collapse mean_HP = mean(Horsepower), by(Cylinders)</code></pre><p>If you need to apply a function to individual elements of a column, you need to vectorize it with adding <code>.</code> after the function name:</p><pre><code class="language-julia hljs">@generate words = split(Model, &quot; &quot;)
@generate n_words = length.(words)</code></pre><div class="admonition is-success"><header class="admonition-header">Note: `length(words)` vs `length.(words)`</header><div class="admonition-body"><p>Here, <code>words</code> becomes a vector of vectors, where each element is a vector of words in the corresponding <code>Model</code> string. The function <code>length.</code> will operate on each cell in <code>words</code>, counting the number of words in each <code>Model</code> string. By contrast, <code>length(words)</code> would return the number of elements in the <code>words</code> vector, which is the number of rows in the DataFrame.</p></div></div><h3 id="The-@if-condition"><a class="docs-heading-anchor" href="#The-@if-condition">The <code>@if</code> condition</a><a id="The-@if-condition-1"></a><a class="docs-heading-anchor-permalink" href="#The-@if-condition" title="Permalink"></a></h3><p>Almost every command can be followed by an <code>@if</code> condition that filters the data frame. The command will only be executed on the subset of rows for which the condition evaluates to <code>true</code>. The condition can use any combination of column names and functions.</p><pre><code class="language-julia hljs">@summarize MPG @if Horsepower &gt; median(Horsepower)</code></pre><div class="admonition is-success"><header class="admonition-header">Note: vector functions in `@if` conditions</header><div class="admonition-body"><p>Autovectorization rules also apply to <code>@if</code> conditions. If you use a vector function, it will be evaluated on the <em>entire</em> column, before subseting the data frame. By contrast, vector functions in <code>@generate</code> or <code>@collapse</code> commands are evaluated on the subset of rows that satisfy the condition.</p><pre><code class="language-julia hljs">@generate HP_p75 = median(Horsepower) @if Horsepower &gt; median(Horsepower)</code></pre><p>This code computes the median of horsepower values <em>above the median</em>, that is, the 75th percentile of the horsepower distribution. Of course, you can more easily do this calculation with <code>@summarize</code>:</p><pre><code class="language-julia hljs">s = @summarize Horsepower
s.p75</code></pre></div></div><h3 id="Handling-missing-values"><a class="docs-heading-anchor" href="#Handling-missing-values">Handling missing values</a><a id="Handling-missing-values-1"></a><a class="docs-heading-anchor-permalink" href="#Handling-missing-values" title="Permalink"></a></h3><p>Kezdi.jl ignores missing values when aggregating over entire columns. </p><pre><code class="language-julia hljs">@with DataFrame(A = [1, 2, missing, 4]) begin
    @collapse mean_A = mean(A)
end</code></pre><p>returns <code>mean_A = 2.33</code>.</p><p>Other functions typically return <code>missing</code> if any of the values are missing. If a function does not accept missing values, Kezdi.jl will pass it through <code>passmissing</code> to handle missing values.</p><p>You can also manually check for missing values with the <code>ismissing</code> function.</p><pre><code class="language-julia hljs">@with DataFrame(x = [1, 2, missing, 4]) begin
    @generate y = log(x)
end</code></pre><p>returns </p><pre><code class="language-julia hljs">4×2 DataFrame
 Row │ x        y
     │ Int64?   Float64?
─────┼─────────────────────────
   1 │       1        0.0
   2 │       2        0.693147
   3 │ missing  missing
   4 │       4        1.38629</code></pre><p>The same will hold for <code>Dates.year</code>, even though this function does not accept missing values.</p><pre><code class="language-julia hljs">julia&gt; @with DataFrame(x = [1, 2, missing, 4]) begin
           @generate y = Dates.year(x)
       end
4×2 DataFrame
 Row │ x        y
     │ Int64?   Int64?
─────┼──────────────────
   1 │       1        1
   2 │       2        1
   3 │ missing  missing
   4 │       4        1</code></pre><div class="admonition is-warning"><header class="admonition-header">In `@if` conditions, `missing` is treated as `false`</header><div class="admonition-body"><p>In <code>@if</code> conditions, <code>missing</code> is treated as <code>false</code>. This is expected behavior from users, because when they test for a condition, they expect it to be <code>true</code>, not <code>missing</code>.</p><pre><code class="language-julia hljs">@with DataFrame(x = [1, 2, missing, 4]) begin
    @keep @if x &lt;= 2
end</code></pre><p>returns <code>[1, 2]</code>.</p></div></div><h3 id="Use-cond-instead-of-ternary-operators"><a class="docs-heading-anchor" href="#Use-cond-instead-of-ternary-operators">Use <code>cond</code> instead of ternary operators</a><a id="Use-cond-instead-of-ternary-operators-1"></a><a class="docs-heading-anchor-permalink" href="#Use-cond-instead-of-ternary-operators" title="Permalink"></a></h3><p>Ternary operators like <code>x ? y : z</code> are not vectorized in Julia. Instead, use the <code>cond</code> function, which provides the exact same functionality.</p><pre><code class="language-julia hljs">@with DataFrame(x = [1, 2, 3, 4]) begin
    @generate y = cond(x &lt;= 2, 1, 0)
end</code></pre><p>Note that you can achieve the same result with the more readable code</p><pre><code class="language-julia hljs">@with DataFrame(x = [1, 2, 3, 4]) begin
    @generate y = 1  @if x &lt;= 2 
    @replace y = 0 @if x &gt; 2
end</code></pre><div class="admonition is-warning"><header class="admonition-header">`cond` may not work as you expect with missing values</header><div class="admonition-body"><p>Because <code>cond</code> is vectorized and vectorized functions ignore missing values, this may lead to unexpected behavior. Use <code>@replace @if</code> instead.</p></div></div><h3 id="Row-count-variables"><a class="docs-heading-anchor" href="#Row-count-variables">Row-count variables</a><a id="Row-count-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Row-count-variables" title="Permalink"></a></h3><p>The variable <code>_n</code> refers to the row number in the data frame, <code>_N</code> denotes the total number of rows. These can be used in <code>@if</code> conditions, as well.</p><pre><code class="language-julia hljs">@with DataFrame(A = [1, 2, 3, 4]) begin
    @keep @if _n &lt; 3
end</code></pre><h2 id="Differences-to-Stata-syntax"><a class="docs-heading-anchor" href="#Differences-to-Stata-syntax">Differences to Stata syntax</a><a id="Differences-to-Stata-syntax-1"></a><a class="docs-heading-anchor-permalink" href="#Differences-to-Stata-syntax" title="Permalink"></a></h2><h3 id="All-commands-begin-with-@"><a class="docs-heading-anchor" href="#All-commands-begin-with-@">All commands begin with <code>@</code></a><a id="All-commands-begin-with-@-1"></a><a class="docs-heading-anchor-permalink" href="#All-commands-begin-with-@" title="Permalink"></a></h3><p>To allow for Stata-like syntax, all commands begin with <code>@</code>. These are macros that rewrite your Kezdi.jl code to <code>DataFrames.jl</code> commands.</p><pre><code class="language-julia hljs">@tabulate Gear
@keep @if Gear == 4
@keep Model MPG Horsepower Weight Displacement Cylinders</code></pre><h3 id="@if-condition-also-begins-with-@"><a class="docs-heading-anchor" href="#@if-condition-also-begins-with-@"><code>@if</code> condition also begins with <code>@</code></a><a id="@if-condition-also-begins-with-@-1"></a><a class="docs-heading-anchor-permalink" href="#@if-condition-also-begins-with-@" title="Permalink"></a></h3><p><a href="#The-@if-condition">The <code>@if</code> condition</a> is non-standard behavior in Julia, so it is also implemented as a macro.</p><h3 id="@collapse-has-same-syntax-as-@egen"><a class="docs-heading-anchor" href="#@collapse-has-same-syntax-as-@egen"><code>@collapse</code> has same syntax as <code>@egen</code></a><a id="@collapse-has-same-syntax-as-@egen-1"></a><a class="docs-heading-anchor-permalink" href="#@collapse-has-same-syntax-as-@egen" title="Permalink"></a></h3><p>Unlike Stata, where <code>egen</code> and <code>collapse</code> have different syntax, Kezdi.jl uses the same syntax for both commands.</p><pre><code class="language-julia hljs">@egen mean_HP = mean(Horsepower), by(Cylinders)
@collapse mean_HP = mean(Horsepower), by(Cylinders)</code></pre><h3 id="Different-function-names"><a class="docs-heading-anchor" href="#Different-function-names">Different function names</a><a id="Different-function-names-1"></a><a class="docs-heading-anchor-permalink" href="#Different-function-names" title="Permalink"></a></h3><p>To maintain compatibility with Julia, we had to rename some functions. For example, <code>count</code> is called <code>rowcount</code>, <code>missing</code> is called <code>ismissing</code>, <code>max</code> is <code>maximum</code>, and <code>min</code> is <code>minimum</code> in Kezdi.jl.</p><h3 id="Missing-values"><a class="docs-heading-anchor" href="#Missing-values">Missing values</a><a id="Missing-values-1"></a><a class="docs-heading-anchor-permalink" href="#Missing-values" title="Permalink"></a></h3><p>In Julia, the result of any operation involving a missing value is <code>missing</code>. The only exception is the <code>ismissing</code> function, which returns <code>true</code> if the value is missing and <code>false</code> otherwise. You <em>cannot</em> check for missing values with <code>== missing</code>.</p><p>For convenience, Kezdi.jl has special rules about <a href="#Handling-missing-values">Handling missing values</a>. We also extended the <code>ismissing</code> function to work with multiple arguments.</p><pre><code class="language-julia hljs">@with DataFrame(x = [1, 2, missing, 4], y = [1, missing, 3, 4]) begin
    @generate z = ismissing(x, y)
end
4×3 DataFrame
 Row │ x        y        z
     │ Int64?   Int64?   Bool
─────┼─────────────────────────
   1 │       1        1  false
   2 │       2  missing   true
   3 │ missing        3   true
   4 │       4        4  false</code></pre><p>Missing is not greater than anything, so comparison with missing values will always return <code>missing</code>. </p><div class="admonition is-warning"><header class="admonition-header">In `@if` conditions, `missing` is treated as `false`</header><div class="admonition-body"><p>In <code>@if</code> conditions, <code>missing</code> is treated as <code>false</code>. This is expected behavior from users, because when they test for a condition, they expect it to be <code>true</code>, not <code>missing</code>.</p><pre><code class="language-julia hljs">@with DataFrame(x = [1, 2, missing, 4]) begin
    @keep @if x &lt;= 2
end</code></pre><p>returns <code>[1, 2]</code>.</p></div></div><h2 id="Convenience-functions"><a class="docs-heading-anchor" href="#Convenience-functions">Convenience functions</a><a id="Convenience-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Convenience-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.distinct" href="#Kezdi.distinct"><code>Kezdi.distinct</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">distinct(x::AbstractVector) = unique(x)</code></pre><p>Convenience function to get the distinct values of a vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L55-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.rowcount" href="#Kezdi.rowcount"><code>Kezdi.rowcount</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">rowcount(x::AbstractVector) = length(keep_only_values(x))</code></pre><p>Count the number of valid values in a vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L63-L67">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.keep_only_values" href="#Kezdi.keep_only_values"><code>Kezdi.keep_only_values</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">keep_only_values(x::AbstractVector) -&gt; AbstractVector</code></pre><p>Return a vector with only the values of <code>x</code>, excluding any <code>missing</code><code>values,</code>nothing<code>s,</code>Inf<code>a and</code>NaN`s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L121-L125">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.ismissing" href="#Base.ismissing"><code>Base.ismissing</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ismissing(args...) -&gt; Bool</code></pre><p>Return <code>true</code> if any of the arguments is <code>missing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L128-L132">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Kezdi.cond" href="#Kezdi.cond"><code>Kezdi.cond</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cond(x, y, z)</code></pre><p>Return <code>y</code> if <code>x</code> is <code>true</code>, otherwise return <code>z</code>. If <code>x</code> is a vector, the operation is vectorized. This function mimics <code>x ? y : z</code>, which cannot be vectorized.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/codedthinking/Kezdi.jl/blob/c413a4aefe0c73965d528ebc53c28ab33dc2fa10/src/functions.jl#L135-L139">source</a></section></article><h2 id="Acknowledgements"><a class="docs-heading-anchor" href="#Acknowledgements">Acknowledgements</a><a id="Acknowledgements-1"></a><a class="docs-heading-anchor-permalink" href="#Acknowledgements" title="Permalink"></a></h2><p>Inspiration for the package came from <a href="https://tidierorg.github.io/Tidier.jl/stable/">Tidier.jl</a>, a similar package launched by Karandeep Singh that provides a dplyr-like interface for Julia. Johannes Boehm has also developed a similar package, <a href="https://github.com/jmboehm/Douglass.jl">Douglass.jl</a>.</p><p>The package is built on top of <a href="https://dataframes.juliadata.org/stable/">DataFrames.jl</a>, <a href="https://github.com/nalimilan/FreqTables.jl">FreqTables.jl</a> and <a href="https://github.com/FixedEffects/FixedEffectModels.jl">FixedEffectModels.jl</a>. The <code>@with</code> function relies on <a href="https://github.com/jkrumbiegel/Chain.jl">Chain.jl</a> by Julius Krumbiegel.</p><p>The package is named after <a href="https://kezdigabor.life/">Gabor Kezdi</a>, a Hungarian economist who has made significant contributions to <a href="https://gabors-data-analysis.com/">teaching data analysis</a>.</p><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-stata"><a class="tag is-link" href="#citeref-stata">stata</a>Stata is a registered trademark of StataCorp LLC. Kezdi.jl is not affiliated with StataCorp LLC.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="reference/">Reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 18 November 2024 08:17">Monday 18 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
